<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><!-- redirect to https by default if we already have weather data--><script>if (document.cookie.search("weatherData") == -1 && window.location.protocol != "http:"){
  window.location.protocol = "http";
}else if (("taoalpha.me" == window.location.host) && (window.location.protocol != "https:")) {
  window.location.protocol = "https";
}</script><title> OJ Ugly Number Problems | TaoAlpha's Blog</title><meta name="description" content="Here is my new blog based on hexo."><meta name="viewport" content="width=device-width, initial-scale=1"><!-- open graph part--><meta property="og:image" content="http://taoalpha.me/images/newblog.jpg"><meta property="og:description" content="TaoAlpha's hexo Blog"><meta property="og:type" content="website"><link rel="short icon" href="/blog/favicon.png"><link rel="stylesheet" href="/blog/css/default.css"></head><body class="blogpost"><aside class="home-menu"><nav class="home-icon-con upside"></nav><a href="/blog/" class="home-menu-icon brand active">涛</a><a href="/blog/tipme" class="home-menu-icon"><i class="fa fa-1x fa-gratipay"></i></a><a href="javascript:$('.searchbox').focus().css('border', '4px dashed #666');setTimeout(function(){$('.searchbox').focus().css('border', 'none').css('border-bottom', '1px solid #ccc')},1000);" class="home-menu-icon"><i class="fa fa-1x fa-search"></i></a><a href="/blog/puzzle" class="home-menu-icon"><i class="fa fa-1x fa-puzzle-piece"></i></a><a href="javascript:;" title="Contact Me" class="home-menu-icon follow">+</a><div class="home-contact"><a href="https://facebook.com/zzgary/" target="something"><img src="https://cdn1.iconfinder.com/data/icons/social-shade-rounded-rects/512/facebook-32.png" alt="facebook"></a><a href="https://github.com/taoalpha/" target="something"><img src="https://cdn1.iconfinder.com/data/icons/social-shade-rounded-rects/512/github-32.png" alt="github"></a><a href="https://taoalpha.me" target="something"><img src="https://cdn3.iconfinder.com/data/icons/colore-sociale/32/mewally_32x32.png" alt="portfolio"></a><a href="https://douban.com/people/129154019" target="something"><img src="https://img3.doubanio.com/favicon.ico" alt="douban"></a></div><nav class="home-icon-con downside"><a href="#contribution" class="home-menu-icon makecontribution"><i class="fa fa-pencil fa-1x"></i></a><a id="togglemusic" href="javascript:;" class="home-menu-icon"><i class="fa fa-music fa-1x"></i></a></nav><div id="musicbar"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="298" height="40" src=""></iframe></div></aside><div id="contribution" class="hide"><span class="close"></span><input id="sender_mail" type="email" placeholder="Give me your email"><textarea id="contributionContent" name="contribution" cols="30" rows="10" placeholder="Thanks for your contribution!  Now tell me what you want to say: feedback ? advice ? contributions ? Whatever you want ^_^.  I will look at it as soon as I receive it and reply you asap.  "></textarea><input id="sendToMe" type="submit"></div><div class="stars"></div><div class="twinkling"></div><article id="content"><div id="progressbar"><span class="bg"></span><span class="text"></span></div><section class="entry"><h1 class="entry-title"><a href="http://taoalpha.me/blog/2016/01/25/oj-oj-ugly-number-problems/" title="OJ Ugly Number Problems">OJ Ugly Number Problems</a></h1><div class="meta-top"><a href="https://taoalpha.me"><div style="display:inline-block;" class="avatar"><img src="https://avatars3.githubusercontent.com/u/4335753?v=3&amp;s=40" alt="100"></div><span>TaoAlpha</span></a><span>2016-01-25</span><span class="wordage">6380字</span><span class="readspeed">19 分钟读完</span></div><h2 id="263-_Ugly_Number"><a href="#263-_Ugly_Number" class="headerlink" title="263. Ugly Number"></a>263. Ugly Number</h2><h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><blockquote><p>Write a program to check whether a given number is an ugly number.</p>
<p>Ugly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 6, 8 are ugly while 14 is not ugly since it includes another prime factor 7.</p>
<p>Note that 1 is typically treated as an ugly number.</p>
<footer><strong>LeetCode</strong><cite><a href="https://leetcode.com/problems/ugly-number/" target="_blank" rel="external">263. Ugly Number</a></cite></footer></blockquote>
<p>Tags: Math, Easy</p>
<h3 id="Answers"><a href="#Answers" class="headerlink" title="Answers"></a>Answers</h3><p>I think there is only one way to solve this problem efficiently, which is based on the math fact of this problem.</p>
<p>Based on the definition, if we keep dividing the number by 2, 3 or 5, and finally we get 1, then it should be a ugly number, otherwise it would be something else.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * @param &#123;number&#125; num</span><br><span class="line"> * @return &#123;boolean&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> isUgly = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// num is not prime and divide by 2, 3, 5 </span></span><br><span class="line">  <span class="keyword">if</span>(num&lt;<span class="number">1</span>)&#123;<span class="keyword">return</span> <span class="literal">false</span>&#125;</span><br><span class="line">  <span class="keyword">if</span>(num === <span class="number">1</span>)&#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;</span><br><span class="line">  num = num % <span class="number">5</span> === <span class="number">0</span> ? num / <span class="number">5</span> : (num % <span class="number">3</span> === <span class="number">0</span>) ? (num / <span class="number">3</span>) : (num % <span class="number">2</span> === <span class="number">0</span>) ? (num / <span class="number">2</span>) : <span class="string">"true"</span>;</span><br><span class="line">  <span class="keyword">if</span>(num === <span class="string">"true"</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isUgly(num)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Runtime: 208 ms</p>
<p>We can simplify above code with an for and while loop.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * @param &#123;number&#125; num</span><br><span class="line"> * @return &#123;boolean&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> isUgly = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> p <span class="keyword">of</span> [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>])&#123;</span><br><span class="line">    <span class="keyword">while</span> (num &amp;&amp; num % p == <span class="number">0</span>) &#123;</span><br><span class="line">      num /= p;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> num == <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Runtime: 224 ms</p>
<h2 id="264-_Ugly_Number_II"><a href="#264-_Ugly_Number_II" class="headerlink" title="264. Ugly Number II"></a>264. Ugly Number II</h2><h3 id="Question-1"><a href="#Question-1" class="headerlink" title="Question"></a>Question</h3><blockquote><p>Write a program to find the n-th ugly number.</p>
<p>Ugly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 is the sequence of the first 10 ugly numbers.</p>
<p>Note that 1 is typically treated as an ugly number.</p>
<footer><strong>LeetCode</strong><cite><a href="https://leetcode.com/problems/ugly-number-ii/" target="_blank" rel="external">264. Ugly Number II</a></cite></footer></blockquote>
<p>Tags: Dynamic Programming, Heap, Math, Medium</p>
<h3 id="Answers-1"><a href="#Answers-1" class="headerlink" title="Answers"></a>Answers</h3><h4 id="Using_isUgly"><a href="#Using_isUgly" class="headerlink" title="Using isUgly"></a>Using isUgly</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * @param &#123;number&#125; n</span><br><span class="line"> * @return &#123;number&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> nthUglyNumber = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(n)</span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// get rid of corner cases </span></span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// base case</span></span><br><span class="line">    <span class="keyword">var</span> count=<span class="number">1</span>,i=<span class="number">0</span>,num = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>;count &lt;= n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(isUgly(i))&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            num = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> isUgly = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// num is not prime and divide by 2, 3, 5 </span></span><br><span class="line">  <span class="keyword">if</span>(num&lt;<span class="number">1</span>)&#123;<span class="keyword">return</span> <span class="literal">false</span>&#125;</span><br><span class="line">  <span class="keyword">if</span>(num === <span class="number">1</span>)&#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;</span><br><span class="line">  num = num % <span class="number">5</span> === <span class="number">0</span> ? num / <span class="number">5</span> : (num % <span class="number">3</span> === <span class="number">0</span>) ? (num / <span class="number">3</span>) : (num % <span class="number">2</span> === <span class="number">0</span>) ? (num / <span class="number">2</span>) : <span class="string">"true"</span>;</span><br><span class="line">  <span class="keyword">if</span>(num === <span class="string">"true"</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isUgly(num)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Sadly, it will be TLE since it is so slow….</p>
<h4 id="DP"><a href="#DP" class="headerlink" title="DP"></a>DP</h4><p>This is a classic DP problem if you treat every n-th is a status, and we can find:</p>
<ul>
<li>f(0) = 1</li>
<li>f(1) = min(f(0)<em>2,f(0)</em>3,f(0)*5)</li>
<li>f(2) = min(f(1)<em>2,f(0)</em>3,f(0)*5)<br>…</li>
</ul>
<p>Just be careful about the number like 6, since it can be got from 2<em>3 or 3</em>2, so we need update both pointers stand for 2 and 3.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * @param &#123;number&#125; n</span><br><span class="line"> * @return &#123;number&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> nthUglyNumber = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(n &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// get rid of corner cases </span></span><br><span class="line">  <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// base case</span></span><br><span class="line">  <span class="keyword">var</span> p2 = <span class="number">0</span>, p3 = <span class="number">0</span>, p5 = <span class="number">0</span>; <span class="comment">//pointers for 2, 3, 5</span></span><br><span class="line">  <span class="keyword">var</span> f = [];</span><br><span class="line">  f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i  = <span class="number">1</span>; i &lt; n ; i ++)&#123;</span><br><span class="line">    f[i] = <span class="built_in">Math</span>.min(f[p2]*<span class="number">2</span>,f[p3]*<span class="number">3</span>,f[p5]*<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">if</span>(f[i] == f[p2]*<span class="number">2</span>) p2++; </span><br><span class="line">    <span class="keyword">if</span>(f[i] == f[p3]*<span class="number">3</span>) p3++;</span><br><span class="line">    <span class="keyword">if</span>(f[i] == f[p5]*<span class="number">5</span>) p5++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f[n-<span class="number">1</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Runtime: 212 ms</p>
<h2 id="313-_Super_Ugly_Number"><a href="#313-_Super_Ugly_Number" class="headerlink" title="313. Super Ugly Number"></a>313. Super Ugly Number</h2><h3 id="Question-2"><a href="#Question-2" class="headerlink" title="Question"></a>Question</h3><blockquote><p>Write a program to find the nth super ugly number.</p>
<p>Super ugly numbers are positive numbers whose all prime factors are in the given prime list primes of size k. For example, [1, 2, 4, 7, 8, 13, 14, 16, 19, 26, 28, 32] is the sequence of the first 12 super ugly numbers given primes = [2, 7, 13, 19] of size 4.</p>
<p>Note:<br>(1) 1 is a super ugly number for any given primes.<br>(2) The given numbers in primes are in ascending order.<br>(3) 0 &lt; k ≤ 100, 0 &lt; n ≤ 106, 0 &lt; primes[i] &lt; 1000.</p>
<footer><strong>LeetCode</strong><cite><a href="https://leetcode.com/problems/super-ugly-number/" target="_blank" rel="external">313. Super Ugly Number</a></cite></footer></blockquote>
<p>Tags: Math, Heap, Medium</p>
<h3 id="Answers-2"><a href="#Answers-2" class="headerlink" title="Answers"></a>Answers</h3><h4 id="DP-1"><a href="#DP-1" class="headerlink" title="DP"></a>DP</h4><p>We can use same code as before, just replace the hardcode 2,3,5 with a prime list.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * @param &#123;number&#125; n</span><br><span class="line"> * @param &#123;number[]&#125; primes</span><br><span class="line"> * @return &#123;number&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> nthSuperUglyNumber = <span class="function"><span class="keyword">function</span>(<span class="params">n, primes</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(n &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// get rid of corner cases </span></span><br><span class="line">  <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// base case</span></span><br><span class="line">  <span class="keyword">var</span> p = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;primes.length;i++)&#123;</span><br><span class="line">    p[i] = &#123;</span><br><span class="line">      prime : primes[i],</span><br><span class="line">      count:<span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> f = [];</span><br><span class="line">  f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i  = <span class="number">1</span>; i &lt; n ; i ++)&#123;</span><br><span class="line">    f[i] = <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>,p.map( (a) =&gt; &#123; <span class="keyword">return</span> f[a.count]*a.prime &#125; ) );</span><br><span class="line">    <span class="keyword">for</span>(j = <span class="number">0</span>;j&lt;p.length;j++)&#123;</span><br><span class="line">      <span class="keyword">if</span>(f[p[j].count]*p[j].prime == f[i]) p[j].count ++; </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f[n-<span class="number">1</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Runtime: 404 ms</p>
<h4 id="Heap"><a href="#Heap" class="headerlink" title="Heap"></a>Heap</h4><p>As usally, though I got accepted for the dp solution, but it is so slow… So I open the discussion and look through some best votes answers, find <a href="https://leetcode.com/discuss/81411/java-three-methods-23ms-58ms-with-heap-performance-explained" target="_blank" rel="external">this nice solution</a>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * @param &#123;number&#125; n</span><br><span class="line"> * @param &#123;number[]&#125; primes</span><br><span class="line"> * @return &#123;number&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> nthSuperUglyNumber = <span class="function"><span class="keyword">function</span>(<span class="params">n, primes</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> res = [<span class="number">1</span>],</span><br><span class="line">      idxs = [],</span><br><span class="line">      i,j;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">    res[i] = <span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">31</span>) - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; primes.length; j++)&#123;</span><br><span class="line">      idxs[j] = idxs[j] || <span class="number">0</span>;</span><br><span class="line">      res[i] = <span class="built_in">Math</span>.min(res[i],primes[j] * res[idxs[j]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; idxs.length; j++)&#123;</span><br><span class="line">      <span class="keyword">if</span> (res[i] == primes[j] * res[idxs[j]]) &#123;</span><br><span class="line">        idxs[j] = idxs[j] || <span class="number">0</span>;</span><br><span class="line">        idxs[j] ++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res[n-<span class="number">1</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Runtime: 276 ms</p>
<p>Actually it is pretty much the same as the DP solution… but much faster. </p>
<p>We actually can combine the two for loops into one to speed up again:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nthSuperUglyNumber = <span class="function"><span class="keyword">function</span>(<span class="params">n, primes</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> res = [],</span><br><span class="line">      idxs = [],</span><br><span class="line">      vals = <span class="keyword">new</span> <span class="built_in">Array</span>(primes.length+<span class="number">1</span>).join(<span class="number">1</span>).split(<span class="string">''</span>).map(<span class="built_in">parseFloat</span>),</span><br><span class="line">      i,j,next = <span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    res[i] = next;</span><br><span class="line">    next = <span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">31</span>) - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; primes.length; j++)&#123;</span><br><span class="line">      <span class="comment">// skip duplicate and avoid extra multiplication</span></span><br><span class="line">      <span class="keyword">if</span> (vals[j] == res[i]) &#123;</span><br><span class="line">        idxs[j] = idxs[j] || <span class="number">0</span>;</span><br><span class="line">        vals[j] = res[idxs[j]++] * primes[j];</span><br><span class="line">      &#125;</span><br><span class="line">      next = <span class="built_in">Math</span>.min(next,vals[j]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res[n-<span class="number">1</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Runtime: 232 ms</p>
<aside class="tipme special"><a href="/blog/tipme" class="tipme">If you like my work, buy me a soda or send me a book ! ^_^</a></aside></section><aside class="sidenav"><input type="text" placeholder="Enter to search" class="st-default-search-input searchbox"></aside><div class="relatedposts sidenav"><h2>Related Posts:</h2><ul class="article-list"><li><a href="http://taoalpha.me/blog/2016/01/31/oj-oj-parentheses-problems/">OJ Parentheses Problems 1</a></li><li><a href="http://taoalpha.me/blog/2016/01/16/oj-oj-leetcode-numbers-1/">OJ LeetCode Numbers 1</a></li><li><a href="http://taoalpha.me/blog/2016/01/26/oj-oj-remove-duplicate-letters/">OJ Remove Duplicate Letters</a></li><li><a href="http://taoalpha.me/blog/2016/01/21/oj-oj-sum-closest-problems/">OJ Sum Closest Problems</a></li><li><a href="http://taoalpha.me/blog/2016/01/20/oj-oj-word-search-problems/">OJ Word Search Problems</a></li></ul></div><aside class="sidenav"><div class="recentposts"><h2>Recent Posts:</h2><ul class="article-list"><li><a href="http://taoalpha.me/blog/2016/02/11/tech-add-ssl-to-your-github-pages-with-customized-domain/">Add SSL to your github pages with customized domain</a></li><li><a href="http://taoalpha.me/blog/2016/01/19/tech-sorting-algorithm-in-javascript-median-sort-and-quicksort/">Sorting Algorithm in JavaScript - Quicksort and Heap Sort</a></li><li><a href="http://taoalpha.me/blog/2016/01/16/oj-oj-leetcode-numbers-1/">OJ LeetCode Numbers 1</a></li><li><a href="http://taoalpha.me/blog/2016/01/16/tech-add-a-reading-progressbar-to-your-blog/">Add a reading progressbar to your blog</a></li><li><a href="http://taoalpha.me/blog/2016/01/16/oj-oj-leetcode-substring-questions-1/">OJ LeetCode Substring Questions 1</a></li></ul></div></aside><div class="comments"><div data-thread-key="2016/01/25/oj-oj-ugly-number-problems/" data-title="OJ Ugly Number Problems" data-url="http://taoalpha.me/blog/2016/01/25/oj-oj-ugly-number-problems/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"taoalpha"};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
   || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script></div></article><div class="notification fail hidden"></div><!-- jquery--><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-46725017-2",'auto');ga('send','pageview');</script><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
_st('install','CUMLELEvkSRAFuVehSCm','2.0.0');</script><!-- main functions--><script src="/blog/js/functions.js"></script><script src="/blog/js/default.js"></script><script src="/blog/js/post.js"></script></body></html>