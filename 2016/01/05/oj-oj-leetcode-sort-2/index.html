<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> OJ LeetCode Sort 2 | TaoAlpha's Blog</title><meta name="description" content="Here is my new blog based on hexo."><meta name="viewport" content="width=device-width, initial-scale=1"><!-- open graph part--><meta property="og:image" content="http://taoalpha.me/images/newblog.jpg"><meta property="og:description" content="TaoAlpha's hexo Blog"><meta property="og:type" content="website"><link rel="short icon" href="/blog/favicon.png"><link rel="stylesheet" href="/blog/css/default.css"></head><body class="blogpost"><aside class="home-menu"><nav class="home-icon-con upside"></nav><a href="/blog/" class="home-menu-icon brand active">涛</a><a href="/blog/tipme" class="home-menu-icon"><i class="fa fa-1x fa-gratipay"></i></a><a href="javascript:$('.searchbox').focus().css('border', '4px dashed #666');setTimeout(function(){$('.searchbox').focus().css('border', 'none').css('border-bottom', '1px solid #ccc')},1000);" class="home-menu-icon"><i class="fa fa-1x fa-search"></i></a><a href="/blog/puzzle" class="home-menu-icon"><i class="fa fa-1x fa-puzzle-piece"></i></a><a href="javascript:;" title="Contact Me" class="home-menu-icon follow">+</a><div class="home-contact"><a href="http://facebook.com/zzgary/" target="something"><img src="https://cdn1.iconfinder.com/data/icons/social-shade-rounded-rects/512/facebook-32.png" alt="facebook"></a><a href="http://github.com/taoalpha/" target="something"><img src="https://cdn1.iconfinder.com/data/icons/social-shade-rounded-rects/512/github-32.png" alt="github"></a><a href="http://taoalpha.me" target="something"><img src="https://cdn3.iconfinder.com/data/icons/colore-sociale/32/mewally_32x32.png" alt="portfolio"></a><a href="http://douban.com/people/129154019" target="something"><img src="http://img3.douban.com/favicon.ico" alt="douban"></a></div><nav class="home-icon-con downside"><a href="#contribution" class="home-menu-icon makecontribution"><i class="fa fa-pencil fa-1x"></i></a><a id="togglemusic" href="javascript:;" class="home-menu-icon"><i class="fa fa-music fa-1x"></i></a></nav><div id="musicbar"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="298" height="40" src=""></iframe></div></aside><div id="contribution" class="hide"><span class="close"></span><input id="sender_mail" type="email" placeholder="Give me your email"><textarea id="contributionContent" name="contribution" cols="30" rows="10" placeholder="Thanks for your contribution!  Now tell me what you want to say: feedback ? advice ? contributions ? Whatever you want ^_^.  I will look at it as soon as I receive it and reply you asap.  "></textarea><input id="sendToMe" type="submit"></div><article id="content"><section class="entry"><h1 class="entry-title"><a href="http://taoalpha.me/blog/2016/01/05/oj-oj-leetcode-sort-2/" title="OJ LeetCode Sort 2">OJ LeetCode Sort 2</a></h1><div class="meta-top"><a href="http://taoalpha.me"><div style="display:inline-block;" class="avatar"><img src="https://avatars3.githubusercontent.com/u/4335753?v=3&amp;s=40" alt="100"></div><span>TaoAlpha</span></a><span>2016-01-05</span><span class="wordage">5587字</span><span class="readspeed">16 分钟读完</span></div><h2 id="147-_Insertion_Sort_List"><a href="#147-_Insertion_Sort_List" class="headerlink" title="147. Insertion Sort List"></a>147. Insertion Sort List</h2><h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><blockquote><p>Sort a linked list using insertion sort.</p>
<footer><strong>LeetCode</strong><cite><a href="https://leetcode.com/problems/insertion-sort-list/" target="_blank" rel="external">147. Insertion Sort List</a></cite></footer></blockquote>
<p>Tag: sort,medium</p>
<h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><p>Insertion sort as required.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Definition for singly-linked list.</span><br><span class="line"> * function ListNode(val) &#123;</span><br><span class="line"> *     this.val = val;</span><br><span class="line"> *     this.next = null;</span><br><span class="line"> * &#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * @param &#123;ListNode&#125; head</span><br><span class="line"> * @return &#123;ListNode&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> insertionSortList = <span class="function"><span class="keyword">function</span>(<span class="params">head</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(head == <span class="literal">null</span> || head.next == <span class="literal">null</span>)&#123;<span class="keyword">return</span> head&#125;</span><br><span class="line">  <span class="keyword">var</span> helper = <span class="keyword">new</span> ListNode(-<span class="number">1</span>) <span class="comment">// need a helper node to insert the smallest node into the head of the listNode</span></span><br><span class="line">  <span class="keyword">var</span> outer = head <span class="comment">// outer loop, the node that would be inserted into proper position</span></span><br><span class="line">  <span class="keyword">var</span> inner = helper <span class="comment">// inner loop, the node that outer node should be inserted after</span></span><br><span class="line">  <span class="keyword">var</span> next = head <span class="comment">// next loop node</span></span><br><span class="line">  <span class="keyword">while</span>(outer)&#123;</span><br><span class="line">    <span class="comment">// store the next node of the outer =&gt; for next loop</span></span><br><span class="line">    next = outer.next</span><br><span class="line">    <span class="comment">// find the proper position that the outer node should inserted into</span></span><br><span class="line">    <span class="keyword">while</span>(inner.next &amp;&amp; inner.next.val &lt; outer.val)&#123;</span><br><span class="line">      inner = inner.next</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// insert</span></span><br><span class="line">    outer.next = inner.next</span><br><span class="line">    inner.next = outer</span><br><span class="line">    <span class="comment">// start over every outer loop</span></span><br><span class="line">    inner = helper</span><br><span class="line">    <span class="comment">// loop for next</span></span><br><span class="line">    outer = next</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> helper.next</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Runtime: 236 ms</p>
<h2 id="274-_H-Index"><a href="#274-_H-Index" class="headerlink" title="274. H-Index"></a>274. H-Index</h2><h3 id="Question-1"><a href="#Question-1" class="headerlink" title="Question"></a>Question</h3><blockquote><p>Given an array of citations (each citation is a non-negative integer) of a researcher, write a function to compute the researcher’s h-index.</p>
<p>According to the definition of h-index on Wikipedia: “A scientist has index h if h of his/her N papers have at least h citations each, and the other N − h papers have no more than h citations each.”</p>
<p>For example, given citations = [3, 0, 6, 1, 5], which means the researcher has 5 papers in total and each of them had received 3, 0, 6, 1, 5 citations respectively. Since the researcher has 3 papers with at least 3 citations each and the remaining two with no more than 3 citations each, his h-index is 3.</p>
<p>Note: If there are several possible values for h, the maximum one is taken as the h-index.</p>
<footer><strong>LeetCode</strong><cite><a href="https://leetcode.com/problems/h-index/" target="_blank" rel="external">274. H-Index</a></cite></footer></blockquote>
<p>Tag: sort,medium</p>
<h3 id="Answers"><a href="#Answers" class="headerlink" title="Answers"></a>Answers</h3><h4 id="Sort_first"><a href="#Sort_first" class="headerlink" title="Sort first"></a>Sort first</h4><p>First, we need know that the return value would be one between 0 and the length of the list.</p>
<p>Then, according to the definition of h-index, what we need is the max h that has at least h papers has a referrence number greater than h.</p>
<p>So we sort the list first, and then loop the list reversely, try to find the max fit value that let the number of papers left in the list = length - index &lt;= citations[index]</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * @param &#123;number[]&#125; citations</span><br><span class="line"> * @return &#123;number&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> hIndex = <span class="function"><span class="keyword">function</span>(<span class="params">citations</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(citations.length&lt;=<span class="number">0</span>)&#123;<span class="keyword">return</span> <span class="number">0</span>&#125;</span><br><span class="line">  <span class="keyword">var</span> sorted = citations.sort((a,b)=&gt;&#123;<span class="keyword">return</span> a - b&#125;)</span><br><span class="line">  <span class="comment">// sort in javascript is a in-place function, you don't need use another array</span></span><br><span class="line">  <span class="comment">// default sort function compare everything as a string</span></span><br><span class="line">  <span class="keyword">var</span> h_index = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = sorted.length;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">    <span class="keyword">if</span>(sorted.length - i &lt;= sorted[i])&#123;</span><br><span class="line">      h_index = <span class="built_in">Math</span>.max(h_index,sorted.length-i)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> h_index</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Runtime: 152 ms</p>
<h4 id="Hashtable"><a href="#Hashtable" class="headerlink" title="Hashtable"></a>Hashtable</h4><p>Since we use sort, the time comlexity would be O(nlogn) or even worse. We can use hashtable to speed up.</p>
<p>We store all the citations into one table as a ‘value-count’ pair, and store all value greater that length of the list into one place, since the h-index could only be the value between 0 to the length.</p>
<p>Now we have all possible h-indexs, what we need is to find the max fit one, the only fit rule is that the number of papers that have a referrence greater than h is greater or equal to h.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * @param &#123;number[]&#125; citations</span><br><span class="line"> * @return &#123;number&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> hIndex = <span class="function"><span class="keyword">function</span>(<span class="params">citations</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(citations.length&lt;=<span class="number">0</span>)&#123;<span class="keyword">return</span> <span class="number">0</span>&#125;</span><br><span class="line">  <span class="keyword">var</span> countTable = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;citations.length;i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> key = citations[i]</span><br><span class="line">    <span class="keyword">if</span>(citations[i] &gt;= citations.length)&#123;</span><br><span class="line">      key = citations.length</span><br><span class="line">    &#125;</span><br><span class="line">    countTable[key] = countTable[key] || <span class="number">0</span></span><br><span class="line">    countTable[key] ++ </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span>(h = citations.length;h&gt;=<span class="number">0</span>;h--)&#123;</span><br><span class="line">    sum += countTable[h] || <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span>(sum &gt;=h)&#123;</span><br><span class="line">      <span class="keyword">return</span> h</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Runtime: 152 ms</p>
<h2 id="179-_Largest_Number"><a href="#179-_Largest_Number" class="headerlink" title="179. Largest Number"></a>179. Largest Number</h2><h3 id="Question-2"><a href="#Question-2" class="headerlink" title="Question"></a>Question</h3><blockquote><p>Given a list of non negative integers, arrange them such that they form the largest number.</p>
<p>For example, given [3, 30, 34, 5, 9], the largest formed number is 9534330.</p>
<p>Note: The result may be very large, so you need to return a string instead of an integer.</p>
<footer><strong>LeetCode</strong><cite><a href="https://leetcode.com/problems/largest-number/" target="_blank" rel="external">179. Largest Number</a></cite></footer></blockquote>
<p>Tag: sort,medium</p>
<h3 id="Answer-1"><a href="#Answer-1" class="headerlink" title="Answer"></a>Answer</h3><p>Consider all elements as string instead of number would solve this problem, can not use the default sort, because default sort would compare the each character, so ‘9’ would be smaller that ‘96’, we need to define the sort function by ourselves.</p>
<p>Also need to consider about some corner cases: start with 0.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * @param &#123;number[]&#125; nums</span><br><span class="line"> * @return &#123;string&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> largestNumber = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> nums.sort( (a,b)=&gt;&#123;<span class="keyword">return</span> (b + <span class="string">''</span> + a) - (a + <span class="string">''</span> + b)&#125;).join(<span class="string">""</span>).startsWith(<span class="string">"0"</span>) ? <span class="string">"0"</span> : nums.sort( (a,b)=&gt;&#123;<span class="keyword">return</span> (b + <span class="string">''</span> + a) - (a + <span class="string">''</span> + b)&#125;).join(<span class="string">""</span>)</span><br><span class="line">  <span class="comment">// return nums.sort( (a,b)=&gt;&#123;return (b + '' + a) - (a + '' + b)&#125;).join("").replace(/^0*/g,'') || "0"</span></span><br><span class="line">  <span class="comment">// also we can remove all the leading 0s and it will be empty string then we can just return 0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Runtime: 176 ms</p>
<p>You can also use radix sort, and combine each bucket before other buckets, but the code would be very complex.</p>
<aside class="tipme special"><a href="/blog/tipme" class="tipme">If you like my work, buy me a soda or send me a book ! ^_^</a></aside></section><aside class="sidenav"><input type="text" placeholder="Enter to search" class="st-default-search-input searchbox"></aside><div class="relatedposts sidenav"><h2>Related Posts:</h2><ul class="article-list"><li><a href="http://taoalpha.me/blog/2016/01/04/oj-oj-leetcode-sort-1/">OJ LeetCode Sort 1</a></li></ul></div><aside class="sidenav"><div class="recentposts"><h2>Recent Posts:</h2><ul class="article-list"><li><a href="http://taoalpha.me/blog/2015/12/26/Close-old-website-and-related-services/">Close old website and related services</a></li><li><a href="http://taoalpha.me/blog/2015/12/26/Summary-of-the-year/">Summary of the year</a></li><li><a href="http://taoalpha.me/blog/2015/12/26/blog-migration/">Blog Migration from jekyll to hexo</a></li><li><a href="http://taoalpha.me/blog/2015/12/07/tech-my-first-cli-tool-with-nodejs/">First CLI tool with NodeJS</a></li></ul></div></aside><div class="comments"><div data-thread-key="2016/01/05/oj-oj-leetcode-sort-2/" data-title="OJ LeetCode Sort 2" data-url="http://taoalpha.me/blog/2016/01/05/oj-oj-leetcode-sort-2/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"taoalpha"};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
   || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script></div></article><div class="notification fail hidden"></div><!-- jquery--><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-46725017-2",'auto');ga('send','pageview');</script><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
_st('install','CUMLELEvkSRAFuVehSCm','2.0.0');</script><!-- main functions--><script src="/blog/js/functions.js"></script><script src="/blog/js/default.js"></script><script src="/blog/js/post.js"></script></body></html>