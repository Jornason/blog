<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><!-- redirect to https by default--><script>if (("taoalpha.me" == window.location.host) && (window.location.protocol != "https:")) {
  window.location.protocol = "https";
}</script><title> Add Swiftype as my default internal search engine | TaoAlpha's Blog</title><meta name="description" content="Here is my new blog based on hexo."><meta name="viewport" content="width=device-width, initial-scale=1"><!-- open graph part--><meta property="og:image" content="http://taoalpha.me/images/newblog.jpg"><meta property="og:description" content="TaoAlpha's hexo Blog"><meta property="og:type" content="website"><link rel="short icon" href="/blog/favicon.png"><link rel="stylesheet" href="/blog/css/default.css"></head><body class="blogpost"><aside class="home-menu"><nav class="home-icon-con upside"></nav><a href="/blog/" class="home-menu-icon brand active">涛</a><a href="/blog/tipme" class="home-menu-icon"><i class="fa fa-1x fa-gratipay"></i></a><a href="javascript:$('.searchbox').focus().css('border', '4px dashed #666');setTimeout(function(){$('.searchbox').focus().css('border', 'none').css('border-bottom', '1px solid #ccc')},1000);" class="home-menu-icon"><i class="fa fa-1x fa-search"></i></a><a href="/blog/puzzle" class="home-menu-icon"><i class="fa fa-1x fa-puzzle-piece"></i></a><a href="javascript:;" title="Contact Me" class="home-menu-icon follow">+</a><div class="home-contact"><a href="https://facebook.com/zzgary/" target="something"><img src="https://cdn1.iconfinder.com/data/icons/social-shade-rounded-rects/512/facebook-32.png" alt="facebook"></a><a href="https://github.com/taoalpha/" target="something"><img src="https://cdn1.iconfinder.com/data/icons/social-shade-rounded-rects/512/github-32.png" alt="github"></a><a href="https://taoalpha.me" target="something"><img src="https://cdn3.iconfinder.com/data/icons/colore-sociale/32/mewally_32x32.png" alt="portfolio"></a><a href="https://douban.com/people/129154019" target="something"><img src="https://img3.doubanio.com/favicon.ico" alt="douban"></a></div><nav class="home-icon-con downside"><a href="#contribution" class="home-menu-icon makecontribution"><i class="fa fa-pencil fa-1x"></i></a><a id="togglemusic" href="javascript:;" class="home-menu-icon"><i class="fa fa-music fa-1x"></i></a></nav><div id="musicbar"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="298" height="40" src=""></iframe></div></aside><div id="contribution" class="hide"><span class="close"></span><input id="sender_mail" type="email" placeholder="Give me your email"><textarea id="contributionContent" name="contribution" cols="30" rows="10" placeholder="Thanks for your contribution!  Now tell me what you want to say: feedback ? advice ? contributions ? Whatever you want ^_^.  I will look at it as soon as I receive it and reply you asap.  "></textarea><input id="sendToMe" type="submit"></div><div class="stars"></div><div class="twinkling"></div><article id="content"><div id="progressbar"><span class="bg"></span><span class="text"></span></div><section class="entry"><h1 class="entry-title"><a href="http://taoalpha.me/blog/2015/07/09/tech-change-internal-search-to-swiftype/" title="Add Swiftype as my default internal search engine">Add Swiftype as my default internal search engine</a></h1><div class="meta-top"><a href="https://taoalpha.me"><div style="display:inline-block;" class="avatar"><img src="https://avatars3.githubusercontent.com/u/4335753?v=3&amp;s=40" alt="100"></div><span>TaoAlpha</span></a><span>2015-07-09</span><span class="wordage">4389字</span><span class="readspeed">13 分钟读完</span></div><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Since I imported some old articles from my old blog, <a href="/blog/2015/06/21/tech-add-internal-search-to-jekyll-blog/">the internal search I built using javascript and json datas</a> last time got slower and slower. So I decided to add a third-part search engine for my blog. Like I recommended in my <a href="/blog/2015/06/21/tech-add-internal-search-to-jekyll-blog/">last post</a>, <a href="https://swiftype.com" target="_blank" rel="external">swiftype</a> is a really nice choice.</p>
<h2 id="How_to_add_swiftype_in_your_blog"><a href="#How_to_add_swiftype_in_your_blog" class="headerlink" title="How to add swiftype in your blog"></a>How to add swiftype in your blog</h2><h3 id="Before_Sign_Up"><a href="#Before_Sign_Up" class="headerlink" title="Before Sign Up"></a>Before Sign Up</h3><p>Before you open the <a href="https://swiftype.com" target="_blank" rel="external">swiftype website</a> and sign up, you should do some work to check whether your website is friendly to search engine.</p>
<h4 id="robots-txt"><a href="#robots-txt" class="headerlink" title="robots.txt"></a>robots.txt</h4><p>If you have some subdirectories or subdomains you don’t want to be crawled by some search engines, you need to set the rules in robots.txt.</p>
<p>As an example, I want to hide all my <code>api/</code> pages to all search engines, I can add this line into my robots.txt:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *&#10;Disallow: /api/</span><br></pre></td></tr></table></figure>
<p>You can just put the robots.txt in the root directory of your domain and it will work.</p>
<h4 id="sitemap-xml"><a href="#sitemap-xml" class="headerlink" title="sitemap.xml"></a>sitemap.xml</h4><blockquote>
<p>A site map (or sitemap) is a list of pages of a web site accessible to crawlers or users. It can be either a document in any form used as a planning tool for Web design, or a Web page that lists the pages on a Web site, typically organized in hierarchical fashion. – from wikipedia</p>
</blockquote>
<p>So if you have a sitemap, it can help search engines like google crawl your site better.</p>
<p>You can just put the sitemap.xml in your root directory with robots.txt, or you can specify it in your robots.txt using this one line code: <code>Sitemap: http://taoalpha.me/blog/sitemap.xml</code>.</p>
<p>You can have multiple sitemap.xml files, of course.</p>
<p>Don’t know how to create a sitemap.xml ? <a href="https://www.xml-sitemaps.com" target="_blank" rel="external">Check this!</a></p>
<h3 id="Sign_Up_and_Build_your_engine"><a href="#Sign_Up_and_Build_your_engine" class="headerlink" title="Sign Up and Build your engine"></a>Sign Up and Build your engine</h3><p>After you finished optimizing your site for search engines. Now you can sign up on the <a href="https://swiftype.com" target="_blank" rel="external">swiftype website</a> and build your engine.</p>
<p>The free plan of swiftype has some limits for using:</p>
<ul>
<li>Total Documents    500</li>
<li>Monthly Queries    1,000</li>
</ul>
<p>So if your blog is really big and you have a lot of users using your search, you may need to change to a pro plan~</p>
<p>Just find a nice plan for yourself on the swiftype.</p>
<h3 id="Add_your_domain_and_rules"><a href="#Add_your_domain_and_rules" class="headerlink" title="Add your domain and rules"></a>Add your domain and rules</h3><p>After you build your search engine. Now you can add your domain into your engine. Or if you start with the tutorial on the homepage of swiftype, maybe you have already done this.</p>
<p>You can go to <code>your dashboard -&gt; manage -&gt; domain</code> to check the domain you have added into your engine. And also you can set the rules for you domain.</p>
<h4 id="WHITELIST_RULES"><a href="#WHITELIST_RULES" class="headerlink" title="WHITELIST RULES"></a>WHITELIST RULES</h4><p>Only pages matching these rules will be included in your index.</p>
<h4 id="BLACKLIST_RULES"><a href="#BLACKLIST_RULES" class="headerlink" title="BLACKLIST RULES"></a>BLACKLIST RULES</h4><p>All Pages matching any of these rules will be excluded. So like my blog, I want to remove all the tag pages and category pages from my index in order to empty the room for the real post page. I can just add <code>/blog/tag/</code>,<code>/blog/user/</code>,<code>/blog/page</code> into my BLACKLIST rules.</p>
<h3 id="Install_the_Search_into_your_site"><a href="#Install_the_Search_into_your_site" class="headerlink" title="Install the Search into your site"></a>Install the Search into your site</h3><p>Swiftype has a real good instruction to help you install the search into your website. You can just follow the integrate instruction step by step and customize the color and style of your result-page.</p>
<p>After all settings, you will get a javascript code and you just need to add this code into all the page you want  your search box to be viewed by your users.</p>
<p>And according to your settings for the input field for searching, you will need do a little work to add the input into your website with the default class.</p>
<p>Just remember to activate the search after that.</p>
<h3 id="After_installed"><a href="#After_installed" class="headerlink" title="After installed"></a>After installed</h3><h4 id="Manage_your_content"><a href="#Manage_your_content" class="headerlink" title="Manage your content"></a>Manage your content</h4><p>Besides domains and the rules, you can also view the details of the pages crawled by the swiftype in <code>your dashboard -&gt; manage -&gt; content</code>.</p>
<p>Here list all the pages included in your search engine, and even better, it will also record some click-data and referring-suggest-data to help you optimize your posts.</p>
<h4 id="Customize_the_engine"><a href="#Customize_the_engine" class="headerlink" title="Customize the engine"></a>Customize the engine</h4><p>Besides all the normal functions, you can also customize your swiftype engine, like re-order the search results customize your relevance algorithm, define your Synonym list…etc.</p>
<p>Of course, it has some limits for free plan.</p>
<h4 id="Analytics"><a href="#Analytics" class="headerlink" title="Analytics"></a>Analytics</h4><p>Swiftype will record some information related to the search part, like top queries,top auto-completions, top searches with no result…etc</p>
<h2 id="Tips_3A"><a href="#Tips_3A" class="headerlink" title="Tips:"></a>Tips:</h2><ul>
<li>Be patient. You need to wait a while before any pages included in your engine;</li>
<li>Remember to activate your engine. If you have added the js code and input field into your website, and still can not use the engine, maybe that’s because you forget to activate your engine;</li>
<li>Customize. If you want the search box fit into your content more naturally , you should customize the style for it;</li>
</ul>
<aside class="tipme special"><a href="/blog/tipme" class="tipme">If you like my work, buy me a soda or send me a book ! ^_^</a></aside></section><aside class="sidenav"><input type="text" placeholder="Enter to search" class="st-default-search-input searchbox"></aside><div class="relatedposts sidenav"><h2>Related Posts:</h2><ul class="article-list"><li><a href="http://taoalpha.me/blog/2015/06/21/tech-add-internal-search-to-jekyll-blog/">自建倒排, 为 Jekyll 博客添加搜索功能</a></li></ul></div><aside class="sidenav"><div class="recentposts"><h2>Recent Posts:</h2><ul class="article-list"><li><a href="http://taoalpha.me/blog/2016/02/11/tech-add-ssl-to-your-github-pages-with-customized-domain/">Add SSL to your github pages with customized domain</a></li><li><a href="http://taoalpha.me/blog/2016/01/19/tech-sorting-algorithm-in-javascript-median-sort-and-quicksort/">Sorting Algorithm in JavaScript - Quicksort and Heap Sort</a></li><li><a href="http://taoalpha.me/blog/2016/01/16/oj-oj-leetcode-numbers-1/">OJ LeetCode Numbers 1</a></li><li><a href="http://taoalpha.me/blog/2016/01/16/tech-add-a-reading-progressbar-to-your-blog/">Add a reading progressbar to your blog</a></li><li><a href="http://taoalpha.me/blog/2016/01/16/oj-oj-leetcode-substring-questions-1/">OJ LeetCode Substring Questions 1</a></li></ul></div></aside><div class="comments"><div data-thread-key="2015/07/09/tech-change-internal-search-to-swiftype/" data-title="Add Swiftype as my default internal search engine" data-url="http://taoalpha.me/blog/2015/07/09/tech-change-internal-search-to-swiftype/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"taoalpha"};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
   || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script></div></article><div class="notification fail hidden"></div><!-- jquery--><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-46725017-2",'auto');ga('send','pageview');</script><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
_st('install','CUMLELEvkSRAFuVehSCm','2.0.0');</script><!-- main functions--><script src="/blog/js/functions.js"></script><script src="/blog/js/default.js"></script><script src="/blog/js/post.js"></script></body></html>