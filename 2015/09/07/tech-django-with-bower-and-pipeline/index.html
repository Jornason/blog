<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Use Django with Bower and Pipeline | TaoAlpha's Blog</title><meta name="description" content="Here is my new blog based on hexo."><meta name="viewport" content="width=device-width, initial-scale=1"><!-- open graph part--><meta property="og:image" content="http://taoalpha.me/images/newblog.jpg"><meta property="og:description" content="TaoAlpha's hexo Blog"><meta property="og:type" content="website"><link rel="short icon" href="/blog/favicon.png"><link rel="stylesheet" href="/blog/css/default.css"></head><body class="blogpost"><aside class="home-menu"><nav class="home-icon-con upside"></nav><a href="/blog/" class="home-menu-icon brand active">涛</a><a href="/blog/tipme" class="home-menu-icon"><i class="fa fa-1x fa-gratipay"></i></a><a href="javascript:$('.searchbox').focus().css('border', '4px dashed #666');setTimeout(function(){$('.searchbox').focus().css('border', 'none').css('border-bottom', '1px solid #ccc')},1000);" class="home-menu-icon"><i class="fa fa-1x fa-search"></i></a><a href="/blog/puzzle" class="home-menu-icon"><i class="fa fa-1x fa-puzzle-piece"></i></a><a href="javascript:;" title="Contact Me" class="home-menu-icon follow">+</a><div class="home-contact"><a href="http://facebook.com/zzgary/" target="something"><img src="https://cdn1.iconfinder.com/data/icons/social-shade-rounded-rects/512/facebook-32.png" alt="facebook"></a><a href="http://github.com/taoalpha/" target="something"><img src="https://cdn1.iconfinder.com/data/icons/social-shade-rounded-rects/512/github-32.png" alt="github"></a><a href="http://taoalpha.me" target="something"><img src="https://cdn3.iconfinder.com/data/icons/colore-sociale/32/mewally_32x32.png" alt="portfolio"></a><a href="http://douban.com/people/129154019" target="something"><img src="http://img3.douban.com/favicon.ico" alt="douban"></a></div><nav class="home-icon-con downside"><a href="#contribution" class="home-menu-icon makecontribution"><i class="fa fa-pencil fa-1x"></i></a><a id="togglemusic" href="javascript:;" class="home-menu-icon"><i class="fa fa-music fa-1x"></i></a></nav><div id="musicbar"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="298" height="40" src=""></iframe></div></aside><div id="contribution" class="hide"><span class="close"></span><input id="sender_mail" type="email" placeholder="Give me your email"><textarea id="contributionContent" name="contribution" cols="30" rows="10" placeholder="Thanks for your contribution!  Now tell me what you want to say: feedback ? advice ? contributions ? Whatever you want ^_^.  I will look at it as soon as I receive it and reply you asap.  "></textarea><input id="sendToMe" type="submit"></div><article id="content"><div id="progressbar"><span class="bg"></span><span class="text"></span></div><section class="entry"><h1 class="entry-title"><a href="http://taoalpha.me/blog/2015/09/07/tech-django-with-bower-and-pipeline/" title="Use Django with Bower and Pipeline">Use Django with Bower and Pipeline</a></h1><div class="meta-top"><a href="http://taoalpha.me"><div style="display:inline-block;" class="avatar"><img src="https://avatars3.githubusercontent.com/u/4335753?v=3&amp;s=40" alt="100"></div><span>TaoAlpha</span></a><span>2015-09-07</span><span class="wordage">5510字</span><span class="readspeed">16 分钟读完</span></div><h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>Since I decided to focus on python and JS, I started to dig into these two babies.</p>
<p>I use django as my web framework in python, so how to build a website easier is what I most concerned. I used yeoman for a while, pretty amazing and convenient, especially the bower and compressor, compiler.</p>
<p>So I did some search and study, trying to integrate the bower and compressor, compiler into django since I am getting used to the yeoman workflow.</p>
<h2 id="How_to_do_that"><a href="#How_to_do_that" class="headerlink" title="How to do that"></a>How to do that</h2><p>Python is great for extensions. It has so many modules you can find and build for it. So in order to integrate the bower and compressor, compiler into django, we need two modules:</p>
<h3 id="django-bower"><a href="#django-bower" class="headerlink" title="django-bower"></a><a href="https://github.com/nvbn/django-bower" target="_blank" rel="external">django-bower</a></h3><p>Just like other modules, you can install django-bower easily through <code>pip</code>:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django-bower</span><br></pre></td></tr></table></figure>
<p>After you installed , you need add it into your <code>INSTALLED_APPS</code> in your project settings with the name is ‘djangobower’. And If you don’t want to add the component file path by youself, you can use <code>djangobower.finders.BowerFinder</code> to do that for you. Just add it into your <code>INSTALLED_FINDERS</code>.</p>
<p>You can also set the <code>BOWER_COMPONENTS_ROOT</code> to put all your packages into one place. And if you want, you can set the path to bower manually: <code>BOWER_PATH=path_to_bower</code></p>
<p>So after these, how to use it?</p>
<p>Easy, you can manage your packages in your project settings with <code>BOWER_INSTALLED_APPS=(&#39;jquery&#39;,&#39;bootstrap#4.0.0-alpha&#39;,)</code>, and put all your packages names into it. Just similar to what you did in <code>bower.json</code>.</p>
<p>And for installing all the packages, you just need to run <code>python manage.py bower_install -- --allow-root</code>(you can get rid of the <code>-- --allow-root</code> if you don’t receive the sudo error)</p>
<p>And it will install all the packages you have listed in your settings.</p>
<p>The last step and most important step, you need to collect all your static files into your static folder. Just run:<br><code>python manage.py collectstatic</code>.</p>
<p>Now you can just put<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;&#10;&#123;% load static %&#125;&#10;&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure></p>
<p>in the top of your template files and use</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;&#10;&#123;% static &#39;static_path_to_you_modlue_file&#39; %&#125; &#10;&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure>
<p>anywhere you want.</p>
<p>That’s it. Pretty much all about <code>django-bower</code>.</p>
<h3 id="django-pipeline"><a href="#django-pipeline" class="headerlink" title="django-pipeline"></a><a href="https://github.com/cyberdelia/django-pipeline" target="_blank" rel="external">django-pipeline</a></h3><p>Now we got bower, so next step we need to get the compressor and compiler.</p>
<p>I use coffee-script as my pre-processor for JS. It’s easy and super cool!!! Strongly recommended!</p>
<p>Bower is a pretty cool package manager, but it has nothing to do with your own scripts or stylesheets or html files. So in order to compress the files to minimize the size of files and to use coffee-script, sass in django. You can install <code>django-pipeline</code>.</p>
<p>Just like <code>django-bower</code>, you can also install <code>django-pipeline</code> with pip:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django-pipeline</span><br></pre></td></tr></table></figure>
<p>Same as <code>django-bower</code>, you need put some essentials into your project setting file.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = (</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">'pipeline'</span>,</span><br><span class="line">)</span><br><span class="line">STATICFILES_STORAGE = <span class="string">'pipeline.storage.PipelineCachedStorage'</span></span><br><span class="line"><span class="comment"># if you don't want the version files, you can just use `PipelineStorage` instead of `PipelineCachedStorage`</span></span><br><span class="line"></span><br><span class="line">STATICFILES_FINDERS = (</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">'django.contrib.staticfiles.finders.FileSystemFinder'</span>,</span><br><span class="line">  <span class="string">'django.contrib.staticfiles.finders.AppDirectoriesFinder'</span>,</span><br><span class="line">  <span class="string">'pipeline.finders.PipelineFinder'</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">STATICFILES_DIRS = (</span><br><span class="line">  <span class="string">'absolute_path_to_your_static_folder'</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment"># this will tell finders to find static files in these folders</span></span><br><span class="line"></span><br><span class="line">STATICFILES_STORAGE = <span class="string">'pipeline.storage.PipelineStorage'</span></span><br><span class="line"></span><br><span class="line">PIPELINE_ENABLED = <span class="keyword">True</span></span><br><span class="line"><span class="comment"># This will enable the compress</span></span><br><span class="line"></span><br><span class="line">PIPELINE_CSS = &#123;</span><br><span class="line">    <span class="string">'group_name'</span>: &#123;</span><br><span class="line">        <span class="string">'source_filenames'</span>: (</span><br><span class="line">          <span class="string">'relative_path_to_your_files'</span>,</span><br><span class="line">        ),</span><br><span class="line">        <span class="string">'output_filename'</span>: <span class="string">'relative_path_to_your_output_file'</span>,</span><br><span class="line">        <span class="string">'extra_context'</span>: &#123;</span><br><span class="line">            <span class="string">'media'</span>: <span class="string">'screen,projection'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># in source_filenames, the path of your files is relative to your static file dirs, the Finders will look for each folder you set in the STATICFILES_DIRS.</span></span><br><span class="line"><span class="comment"># in output_filename, the path is relative to the STATIC_ROOT you set in your settings.</span></span><br><span class="line"></span><br><span class="line">PIPELINE_JS = &#123;</span><br><span class="line">    <span class="string">'group_name'</span>: &#123;</span><br><span class="line">        <span class="string">'source_filenames'</span>: (</span><br><span class="line">          <span class="string">'relative_path_to_your_files'</span>,</span><br><span class="line">        ),</span><br><span class="line">        <span class="string">'output_filename'</span>: <span class="string">'relative_path_to_your_output_file'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># same with css</span></span><br><span class="line"></span><br><span class="line">PIPELINE_COMPILERS = (</span><br><span class="line">    <span class="string">'pipeline.compilers.coffee.CoffeeScriptCompiler'</span>,</span><br><span class="line">    <span class="string">'pipeline.compilers.sass.SASSCompiler'</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment"># in order to use these compilers, you need install them first !</span></span><br></pre></td></tr></table></figure>
<p>After finish the configuration, we can use it. In my case, I create a <code>customize</code> folder to store all the customized styles and scripts. So i put this folder into my <code>STATICFILES_DIRS</code> and create a simple group in <code>PIPELINE_CSS</code>.</p>
<p>After that, just run the <code>python manage.py collectstatic</code>. All your file will be copying and moving to your <code>STATIC_ROOT</code>.</p>
<p>Same with <code>django-bower</code>, you can set the path to <code>sass</code> or <code>coffee-script</code> manually if you want (like <code>PIPEPLINE_SASS_BINARY=&#39;&#39;</code>).</p>
<p>In your template, you can either load the file like what you did in <code>django-bower</code>(or default way, precisely), or you can load it using <code>pipeline</code>:</p>
<p>put<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;&#10;&#123;% load pipeline %&#125;&#10;&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure></p>
<p>into the top of your template files, and use </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;&#10;&#123;% stylesheet &#39;group_name&#39;&#125;&#10;&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure>
<p> to import the stylesheet, same for javascript with <code>javascript</code> keyword.</p>
<p>All done.</p>
<h2 id="Enjoy_it"><a href="#Enjoy_it" class="headerlink" title="Enjoy it"></a>Enjoy it</h2><p>Now you have bower, coffee-script, sass in your django. Enjoy the modern web coding style!!</p>
<p>Thanks &amp; Best!</p>
<aside class="tipme special"><a href="/blog/tipme" class="tipme">If you like my work, buy me a soda or send me a book ! ^_^</a></aside></section><aside class="sidenav"><input type="text" placeholder="Enter to search" class="st-default-search-input searchbox"></aside><div class="relatedposts sidenav"><h2>Related Posts:</h2><ul class="article-list"><li><a href="http://taoalpha.me/blog/2015/07/05/tech-raspberry-pi-setup/">Raspberry Pi Setup</a></li><li><a href="http://taoalpha.me/blog/2015/06/20/tech-python-script-analyse-ips-in-nginx-access-log/">A simple python script to analyse all ips in nginx access log</a></li><li><a href="http://taoalpha.me/blog/2015/06/13/tech-create-a-kindle4rss-by-yourself/">利用KindleEar定制属于你自己的RSS推送服务</a></li></ul></div><aside class="sidenav"><div class="recentposts"><h2>Recent Posts:</h2><ul class="article-list"><li><a href="http://taoalpha.me/blog/2015/12/31/tech-blur-on-background/">Blur on Background</a></li><li><a href="http://taoalpha.me/blog/2016/01/09/read-javascript-coding-style/">JavaScript Coding Style</a></li><li><a href="http://taoalpha.me/blog/2016/01/06/oj-oj-leetcode-sort-3/">OJ LeetCode Sort 3</a></li><li><a href="http://taoalpha.me/blog/2016/01/05/oj-oj-leetcode-sort-2/">OJ LeetCode Sort 2</a></li><li><a href="http://taoalpha.me/blog/2016/01/04/oj-oj-leetcode-sort-1/">OJ LeetCode Sort 1</a></li></ul></div></aside><div class="comments"><div data-thread-key="2015/09/07/tech-django-with-bower-and-pipeline/" data-title="Use Django with Bower and Pipeline" data-url="http://taoalpha.me/blog/2015/09/07/tech-django-with-bower-and-pipeline/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"taoalpha"};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
   || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script></div></article><div class="notification fail hidden"></div><!-- jquery--><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-46725017-2",'auto');ga('send','pageview');</script><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
_st('install','CUMLELEvkSRAFuVehSCm','2.0.0');</script><!-- main functions--><script src="/blog/js/functions.js"></script><script src="/blog/js/default.js"></script><script src="/blog/js/post.js"></script></body></html>